<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</title>
    <link rel="icon" type="image/png" href="‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡∏ö‡∏ô‡∏´‡∏±‡∏ß-fotor-2025083021143.png">
  <style>
    body {
        font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-image: url("‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á.png"); /* ‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î */
      background-size: cover;     /* ‡∏Ç‡∏¢‡∏≤‡∏¢‡πÉ‡∏´‡πâ‡πÄ‡∏ï‡πá‡∏°‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ */
      background-position: center; /* ‡∏à‡∏±‡∏î‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á */
      background-attachment: fixed; /* ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏ß‡πá‡∏ö‡πÅ‡∏•‡πâ‡∏ß‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÑ‡∏°‡πà‡∏Ç‡∏¢‡∏±‡∏ö */
    }

    h1 {
      text-align: center;
      color: #d35400;
    }

    .order {
      background: #fff;
      padding: 15px;
      margin: 15px auto;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      max-width: 600px;
      position: relative;
    }

    .order p {
      margin: 5px 0;
    }

    .item {
      margin-left: 20px;
    }

    .back-button {
      display: block;
      margin: 20px auto;
      padding: 10px 20px;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 6px;
      text-align: center;
      text-decoration: none;
      font-size: 16px;
      width: 200px;
      cursor: pointer;
    }

    .back-button:hover {
      background-color: #0056b3;
    }

    /* ‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ */
    .delete-btn {
      position: absolute;
      top: 15px;
      right: 15px;
      background-color: #dc3545;
      border: none;
      color: white;
      padding: 6px 12px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
    }

    .delete-btn:hover {
      background-color: #a71d2a;
    }
  </style>
</head>
<body>
  <h1>üßæ ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</h1>
  <div id="historyContainer"></div>
    
  <a href="index.html" class="back-button">‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a>

  <script>
    const container = document.getElementById("historyContainer");

    function renderHistory() {
      container.innerHTML = ''; // ‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå‡∏Å‡πà‡∏≠‡∏ô‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏´‡∏°‡πà
      const history = JSON.parse(localStorage.getItem("orderHistory")) || [];

      if (history.length === 0) {
        container.innerHTML = "<p style='text-align:center;'>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</p>";
        return;
      }

      history.forEach((order, index) => {
        const div = document.createElement("div");
        div.className = "order";
        div.innerHTML = `
          <p><strong>‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠ #${index + 1}</strong></p>
          <p><strong>‡πÄ‡∏ß‡∏•‡∏≤:</strong> ${order.time}</p>
          <p><strong>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£:</strong></p>
          ${order.items.map(item => `
            <div class="item">‚Ä¢ ${item.name} - ‡πÑ‡∏ã‡∏™‡πå ${item.size} x${item.quantity || 1}</div>
          `).join('')}
          <p><strong>‡∏£‡∏ß‡∏°:</strong> ${order.total} ‡∏ö‡∏≤‡∏ó</p>
          <button class="delete-btn" data-index="${index}">‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ô‡∏µ‡πâ</button>
        `;
        container.appendChild(div);
      });

      // ‡∏ú‡∏π‡∏Å event ‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
      document.querySelectorAll(".delete-btn").forEach(btn => {
        btn.addEventListener("click", function() {
          const idx = this.getAttribute("data-index");
          if(confirm("‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏•‡∏ö‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏ô‡∏µ‡πâ?")) {
            let history = JSON.parse(localStorage.getItem("orderHistory")) || [];
            history.splice(idx, 1);  // ‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
            localStorage.setItem("orderHistory", JSON.stringify(history));
            renderHistory(); // ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÉ‡∏´‡∏°‡πà
          }
        });
      });
    }

    // ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ï‡∏≠‡∏ô‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤
    renderHistory();
  </script>
</body>
</html>
